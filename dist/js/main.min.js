"use strict";var users=["James Smith","James Smith-Allen","James Smith","James Smither","Alena Mens","Alena Mens","Alena Dark","Pavel Durov","Lionel Messi","CR7","Frankie DeJong","Zlatan Ibrahimovich","Andres Iniesta","Sandro Lopez","David Backham"];function autocomplete(c,r){var u,m=[];function n(e){if(!e)return!1;!function(e){for(var t=0;t<e.length;t++)e[t].classList.remove("autocomplete-active")}(e),u>=e.length&&(u=0),u<0&&(u=e.length-1),e[u].classList.add("autocomplete-active")}function d(e){for(var t=document.getElementsByClassName("autocomplete-items"),n=0;n<t.length;n++)e!=t[n]&&e!=c&&t[n].parentNode.removeChild(t[n])}c.addEventListener("input",function(e){var t,n,i,s=0,o=this.value;if(d(),!o)return!1;for(u=-1,(t=document.createElement("DIV")).setAttribute("id",this.id+"autocomplete-list"),t.setAttribute("class","autocomplete-items"),this.parentNode.appendChild(t),i=0;i<r.length;i++)if(r[i].substr(0,o.length).toUpperCase()==o.toUpperCase()&&s<5&&m.filter(function(e){return e===r[i]}).length<1){s++;var a=r.filter(function(e){return e===r[i]}).length;(n=document.createElement("DIV")).innerHTML='<img src="img/user_ico.png" alt="user post icon" class="main__post-user_icon ">\n\t\t\t\t\t\t<div class="main__post-user_text">\n\t\t\t\t\t\t\t<p class="menu__user-title">'.concat("<strong>"+r[i].substr(0,o.length)+"</strong>"+r[i].substr(o.length),' \n          \t\t\t\t\t\t<img src="img/vip.svg" class="menu__user-icon" alt="vip logo"></p>\n\t\t\t\t\t\t\t<p class="main__post-user_subtitle">').concat(a," accounts</p>\n\t\t\t\t\t\t</div>"),n.innerHTML+="<input type='hidden' value='"+r[i]+"'>",n.addEventListener("click",function(e){c.value=this.getElementsByTagName("input")[0].value,d()}),t.appendChild(n),m.push(r[i])}var l=document.createElement("DIV");l.setAttribute("class","autocomplete__other"),l.innerHTML=0<s?"<a href='#' class='menu__user-link'>more results for "+c.value+"...</>":"<span class='menu__user-text'>Oops, seems like we don't have any \""+c.value+'"</span>',t.appendChild(l)}),c.addEventListener("keydown",function(e){m=[];var t=document.getElementById(this.id+"autocomplete-list");t=t&&t.getElementsByTagName("div"),40==e.keyCode?(u++,n(t)):38==e.keyCode?(u--,n(t)):13==e.keyCode&&(e.preventDefault(),-1<u&&t&&t[u].click())}),document.addEventListener("click",function(e){d(e.target)})}function activeAutocomplete(){var e=document.querySelector(".autocomplete_input"),t=document.querySelector(".menu__logo-block"),n=document.querySelector("#autocomplete_icon"),i=document.querySelector(".main__black");e.classList.toggle("autocomplete-actives"),e.classList.contains("autocomplete-actives")?(e.style.width="350px",window.screen.width<515&&(t.style.visibility="hidden"),n.setAttribute("src","img/exit.svg"),i.style.display="block"):(e.style.width="0px",e.value="",t.style.visibility="visible",n.setAttribute("src","img/search.svg"),i.style.display="none")}function animateWidth(t,n,i){var s=Date.now(),o=setInterval(function(){var e=Date.now()-s;i.style.width=t+"px",t+=n,50<e&&clearInterval(o)},20)}function androidShare(){/Android/i.test(navigator.userAgent)}function initDocument(){autocomplete(document.getElementById("myInput"),users),document.getElementById("autocomplete_icon").addEventListener("click",activeAutocomplete),document.querySelector(".autocomplete_input").style.width="0px",document.querySelector(".main__post-user_location").addEventListener("click",androidShare)}document.addEventListener("DOMContentLoaded",initDocument);