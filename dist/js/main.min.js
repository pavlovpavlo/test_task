"use strict";var users=["James Smith","James Smith-Allen","James Smith","James Smither","Alena Mens","Alena Mens","Alena Dark","Pavel Durov","Lionel Messi","CR7","Frankie DeJong","Zlatan Ibrahimovich","Andres Iniesta","Sandro Lopez","David Backham"];function autocomplete(c,r){var u,m=[];function n(t){if(!t)return!1;!function(t){for(var e=0;e<t.length;e++)t[e].classList.remove("autocomplete-active")}(t),u>=t.length&&(u=0),u<0&&(u=t.length-1),t[u].classList.add("autocomplete-active")}function d(t){for(var e=document.getElementsByClassName("autocomplete-items"),n=0;n<e.length;n++)t!=e[n]&&t!=c&&e[n].parentNode.removeChild(e[n])}c.addEventListener("input",function(t){var e,n,i,o=0,s=this.value;if(d(),!s)return!1;for(u=-1,(e=document.createElement("DIV")).setAttribute("id",this.id+"autocomplete-list"),e.setAttribute("class","autocomplete-items"),this.parentNode.appendChild(e),i=0;i<r.length;i++)if(r[i].substr(0,s.length).toUpperCase()==s.toUpperCase()&&o<5&&m.filter(function(t){return t===r[i]}).length<1){o++;var a=r.filter(function(t){return t===r[i]}).length;(n=document.createElement("DIV")).innerHTML='<img src="img/user_ico.png" alt="user post icon" class="main__post-user_icon ">\n\t\t\t\t\t\t<div class="main__post-user_text">\n\t\t\t\t\t\t\t<p class="menu__user-title">'.concat("<strong>"+r[i].substr(0,s.length)+"</strong>"+r[i].substr(s.length),' \n          \t\t\t\t\t\t<img src="img/vip.svg" class="menu__user-icon" alt="vip logo"></p>\n\t\t\t\t\t\t\t<p class="main__post-user_subtitle">').concat(a," accounts</p>\n\t\t\t\t\t\t</div>"),n.innerHTML+="<input type='hidden' value='"+r[i]+"'>",n.addEventListener("click",function(t){c.value=this.getElementsByTagName("input")[0].value,d()}),e.appendChild(n),m.push(r[i])}var l=document.createElement("DIV");l.setAttribute("class","autocomplete__other"),l.innerHTML=0<o?"<a href='#' class='menu__user-link'>more results for "+c.value+"...</>":"<span class='menu__user-text'>Oops, seems like we don't have any \""+c.value+'"</span>',e.appendChild(l)}),c.addEventListener("keydown",function(t){m=[];var e=document.getElementById(this.id+"autocomplete-list");e=e&&e.getElementsByTagName("div"),40==t.keyCode?(u++,n(e)):38==t.keyCode?(u--,n(e)):13==t.keyCode&&(t.preventDefault(),-1<u&&e&&e[u].click())}),document.addEventListener("click",function(t){d(t.target)})}function activeAutocomplete(){var t=document.querySelector(".autocomplete_input"),e=document.querySelector(".menu__logo-block"),n=document.querySelector("#autocomplete_icon"),i=document.querySelector(".main__black");t.classList.toggle("autocomplete-actives"),t.classList.contains("autocomplete-actives")?(t.style.width="350px",window.screen.width<515&&(e.style.visibility="hidden"),n.setAttribute("src","img/exit.svg"),i.style.display="block"):(t.style.width="0px",t.value="",e.style.visibility="visible",n.setAttribute("src","img/search.svg"),i.style.display="none")}function animateWidth(e,n,i){var o=Date.now(),s=setInterval(function(){var t=Date.now()-o;i.style.width=e+"px",e+=n,50<t&&clearInterval(s)},20)}function androidShare(){/Android/i.test(navigator.userAgent)&&navigator.share({title:document.title,text:"test",url:window.location.href})}function initDocument(){autocomplete(document.getElementById("myInput"),users),document.getElementById("autocomplete_icon").addEventListener("click",activeAutocomplete),document.querySelector(".autocomplete_input").style.width="0px",document.querySelector(".main__post-footer_share").addEventListener("click",androidShare)}document.addEventListener("DOMContentLoaded",initDocument);